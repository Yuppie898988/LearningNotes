# Verilog要点总结

## 基础点

- 模块中的语句是**并发**的，与出现顺序无关

- 时延时间单位为1ns，时间精度表示时延时长的精度，如：

```Verilog
`timescale 1ns / 100ps
```

表示延时最小为0.1ns，时延值5.22对应5.2ns, 时延6.17对应6.2ns。

- 数据流描述`assign [delay] A = b`，门元件，always等语句一旦检测到对应变量发生变化，则会执行相应语句

- begin-end顺序过程中的语句是**顺序**，不是并发的

- always和initial语句中只有**寄存器**类型数据能够被赋值

## 编译指令

- 模块中的顺序是并发的，但是整体编译顺序不是。

- 编译器指令在整个过程中有效，直到遇到下一条指令

## 值集合

- 基数的十六进制中一位表示四位；八进制中一位表示三位

- 长度定义较小或者长位宽转化为短位宽时，左边截断

- 定义长度比常量长度长：左边为1则补0，左边为x或z则补x或z

- 字符串单个字符为8位无符号整数

## 寄存器

- reg寄存器1位无符号数

- integer寄存器最少为32位

- time寄存器至少为64位无符号数

- integer寄存器无法访问位向量，存储器也无法访问部分变量值的位向量，都需类型转换至reg寄存器

```Verilog
reg [1:8] ele, Dam[0:64];
Dam[60][2];		// ❌，不合法
ele = Dam[60];
ele[2];			// 合法
```

- reg存储器需要通过`$readmemb(“xxx”, reg_name)`赋值，或者部分选择赋值：

```Verilog
reg memo[7:0];
memo[7:0] = 0;
```

## 参数

- 参数常用于定义时延和变量位宽

- 参数只被赋值一次

## 运算符

- 算术运算时，若某操作数为不定值x，则结果为x

- 求模运算结果的符号取第一个操作数的符号位

- 位运算符逐位运算，右端对齐，左端补齐

|位运算符|说明|
|-|-|
|～|取反|
|&|与|
|\||或|
|^|异或|
|\^~,\~^|同或|

- 等式运算符：逐位相等才为1，若某一位为x或z则结果为x

`x == 1’bx`结果为x

- 全等运算符：两个操作数相应位完全一致则为1，可以判断x和z

`x === 1’bx`结果为1

- 缩减运算符：操作数从最低位开始与第二位进行运算，再将结果与第三位运算，直至最高位。**运算结果为1位二进制数**

- 移位运算符向右或左移动n位，则相当于将操作数除以或乘以$2^n$

- 拼接运算符如果未指明位数，则默认为32位

`{1, 0}` 表示 `64’h 0000_0001_0000_0000`
`{1’b 1, 1’b 0}`表示`2’b 10`
